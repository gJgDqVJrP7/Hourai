# 情報
- このファイルは砲雷戦の基本レギュレーションである。
- 別紙の[艦艇・航空機の制限](/砲雷戦(マルチ用).md)
# 船体の配置
- 東西に200m離れた2点を選択し、これらを基準点と呼称する。
- 一隻目の艦は以下のように配置する。
  - 東側の基準点に、艦の最も西にあるブロックを合わせる。
  - X座標をそのままに、艦首のZ座標が基準点のそれとおなじになるようにずらす。
  - そこから南に、0m~(階級の最大全長-艦の全長)ランダムにずらす。
- 二隻目の艦は以下のように配置する。
  - 西側の基準点に、艦の最も東にあるブロックを合わせる。
  - X座標をそのままに、艦首のZ座標が基準点のそれとおなじになるようにずらす。
  - そこから南に、0m~(階級の最大全長-艦の全長)ランダムにずらす。
# 戦闘
- 戦闘は、<ラウンド><ターン><フェーズ>によって管理される。
- ラウンドの開始時、各ユニットは全長順にターンを1つ選択する。
  - <轟沈>或いは<撃墜>判定がされたユニットにはターンが与えられない。
- 上にあるターンから順番に処理される。同じ種類のターンを選んだ場合は、その種類のターンを選んだユニットについて全長順にターンを処理する
- フェーズは上から順番に処理する。
- 各フェーズは、ターンプレイヤーの判断でスキップできる。
## 試合の流れ
### 第1ラウンド
- 特殊ターン
  - 準備フェーズのみが行える
### 第2ラウンド
- 雷撃ターン
- 航空攻撃ターン
### 第3-5ラウンド
- 砲撃ターン
### 第6ラウンド
- 雷撃ターン
### 第7ラウンド以降
- 航空攻撃ターン
- 砲撃ターン
- 雷撃ターン
- 防空ターン
## 各ターンの流れ
### 砲撃ターン
- 準備フェーズ
- 砲撃フェーズ
- 装填フェーズ
### 航空攻撃ターン
- 準備フェーズ
- 航空攻撃フェーズ
- 準備フェーズ
### 雷撃ターン
- 準備フェーズ
- 防空フェーズ
- 雷撃フェーズ
- 準備フェーズ
### 防空ターン
- 準備フェーズ
- 防空フェーズ
- 準備フェーズ
## 各フェーズでできること
### 準備フェーズ
- 準備フェーズでは航空機は行動できない。
- 以下を操作する。
  - 発射ボタンではないボタン
  - レバー
  - リピーター
  - コンパレーター
  - トラップドア
  - フェンスゲート
  - ドア
  - 魚雷・航空機以外のHAC
- ブロックのインベントリの中身を変更する。
  - 但し、TNT及びTNTカートの数と配置は変更できない。
- アイテムを任意の位置に落とす。
  - 但し、TNT及びTNTカートを落とすことはできない。
- 感圧版を踏む。
- 以下のブロックを設置する。
  - レール
  - パワードレール
  - ディテクターレール
  - アクティベーターレール
### 防空フェーズ
- 発射ボタンを1度だけ押すことができる。
### 砲撃フェーズ
- 砲撃フェーズでは航空機は行動できない。
- 発射ボタンを1度だけ押すことができる。
### 装填フェーズ
- 耐水弾のための砂利・蜘蛛の巣を設置することができる。
- 魚雷のHACを操作することができる。
- 短魚雷の再設置をすることができる。
### 雷撃フェーズ
- 魚雷を発射することができる。
### 航空攻撃フェーズ
- 特攻機を<発艦>させることができる。
- 航空機に限り、発射ボタンを1度だけ押すことができる。
- 航空魚雷を発射することができる。
## 勝利条件
- 射撃可能な主砲がなくなったターンの終了時、轟沈する。
- コアに接続されたブロックの内、水面上に出ているものが一つもない場合、<浸水>としてその時点で轟沈する。
- 自艦が轟沈した場合、敗北する。
- 発射可能な魚雷をすべて消費し、砲撃での決着が見込めない場合や、指定したターンが経過した場合、以下のいずれかを行う。
  - 射撃可能な主砲の割合によって勝敗を決する。
  - 大型魚雷でない魚雷を設置によって装填し、試合を続行する。
  - 引き分けとする。
# 魚雷
- 魚雷は発射する前にルートブロック(スポンジ)の2マス上に装填されている必要がある。
  - ルートブロックの上に金床を配置することはできない。
  - ルートブロックには、一種の魚雷とそれと同様の外形をした魚雷しか装填できない。
- 発射時はx又はz軸にそった直進によって自艦の領域を離れなくてはならない。
## 命中判定
- 着弾目標の設定ができない場合は、敵艦の中心を指定位置とする。
- 着弾する深度については、xz平面において、長辺÷短辺を上限として、自由に指定できる。
- 魚雷は、着弾目標に対して自艦の全長の「誤差」が発生する。全長が21m以下の場合は、誤差が21になる。
- 旋回可能な魚雷発射管に装填された魚雷は、誤差を21にすることができる。
  - 旋回可能な魚雷発射管に装填された魚雷は、水面下を通らず直進によって自艦の領域を離れなくてはならない。
- 魚雷は、魚雷のいずれかのブロックの進行方向側、船体のあたり判定を有するブロックに接する位置、或いはそこから1m奥に設置することができる。
  - 進行経路にそのような位置がない場合、魚雷は命中しなかったと判断され、効果を及ぼさないような場所に廃棄する。
## 短魚雷
- 幅1、高さ3、総ブロック数20以下の魚雷を短魚雷とすることができる。
- 短魚雷は規定位置に直接設置することによって再装填することができる。
## 大型魚雷
- 幅5、高さ4、総ブロック100のいずれかを超過する場合は大型魚雷となる。
- 再装填不可能。
- カート式の場合、カートが装填済みの状態で保持する必要がある。
# 航空機
- 特攻機のみが使用可能。
----
----
----
# 細則
## 攻撃主体
- 攻撃主体以外によって、敵艦の領域にエンティティを侵入させてはならない。
- 攻撃主体が設定されていないフェーズに於いて、敵艦の領域にエンティティを侵入させてはならない。
- 攻撃主体は以下の通りである。
### 砲撃フェーズ
- 自艦
### 雷撃フェーズ
- 発射された魚雷
### 航空攻撃
- 自機
  - 但し、艦船は攻撃主体にならない。
## その他
- gameruleは以下のように制限する。
  - commandBlockOutput = false
  - doDaylightCycle = false
  - doMobLoot = false
  - doMobSpawning = false
  - doTileDrops = false
- 爆発耐久値が600以上のブロック(金床を除く)が発生した場合、撤去する。
- 発射済みの魚雷・航空機は、当該魚雷・航空機の所有側が必要だと判断した場合自由に撤去できる。
- フェーズとフェーズの間には、必要十分な時間を空けること。
  - これは、次フェーズの行動によって前フェーズの行動の結果に影響を与えることを防ぐための規定である。
  - 最終的な判断は大会運営者が行う。
- めりこみ自爆に関しての補償はない。砂列にTNTディスペンサーを置かない等、各自で対策を取ること。
- 砲に装填された砂が破壊された場合、<弾薬庫誘爆>として、当該砲を使用不能とする。
  - 射撃可能な主砲を失うことなく弾薬庫誘爆した砲に対する発射命令を停止できない場合、当該砲の砲口を石で塞ぐ。
    - 当該石がなくとも当該砲が発射不能となった時、速やかに当該石を撤去する。
- 魚雷の最も高い地点の上のブロックが水面である地点を、深度1とする。この地点から1ブロック下に行くと深度が1増える。
  - 深度は1以上の自然数でなくてはならない。
- 魚雷発射管に装填済みの魚雷が破壊された場合は、次のターン開始時に当該魚雷を撤去する。